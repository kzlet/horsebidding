<ion-header>
    <ion-navbar>
      <ion-title>
        {{roomname}}
      </ion-title>
      <ion-buttons end>
        <button ion-button icon-only style="color:red" (click)="exitChat()"> <!--  exitChat()-->
          <ion-icon name="exit"></ion-icon>
        </button>
      </ion-buttons>
    </ion-navbar>
  </ion-header>
  
  <ion-content>
    <ion-list>
      <ion-item *ngFor="let chat of chats" no-lines>
  
        <div class="chat-status" text-center *ngIf="chat.type==='join'||chat.type==='exit';else message">
          <span class="chat-date">{{chat.sendDate | date:'short'}}</span>
          <span class="chat-content-center">{{chat.message}}</span>
        </div>
        <ng-template #message>
  
          <div class="chat-message" text-right *ngIf="chat.user === nickname">
            <div class="right-bubble">
              <span class="msg-name">Me</span>
              <span class="msg-date">{{chat.sendDate | date:'short'}}</span>
              <p *ngIf="!chat.voice && !chat.image" text-wrap>{{chat.message}}</p>
             
              <div *ngIf="chat.voice">
  
                <div align="left">
                <ion-buttons start>
                  <button ion-button icon-only style="color:black" (click)="play(chat.voice)">
                    <ion-icon name="play"></ion-icon>
                  </button>
                </ion-buttons>
                </div>
                <ion-buttons end style="margin-top: -43px;">
                  <button ion-button icon-only style="color:black" (click)="pause(chat.voice)">
                    <ion-icon name="pause"></ion-icon>
                  </button>
                </ion-buttons>
  
              </div>
  
              <div *ngIf="chat.image">
              <img src="{{chat.image}}" class="thumb-img" imageViewer/>
              </div>
  
            </div>
          </div>
          <div class="chat-message" text-left *ngIf="chat.user !== nickname">
            <div class="left-bubble">
              <span class="msg-name">{{chat.user}}</span>
              <span class="msg-date">{{chat.sendDate | date:'short'}}</span>
              <p *ngIf="!chat.voice && !chat.image" text-wrap>{{chat.message}}</p>
              
              <div *ngIf="chat.voice">
  
                  <div align="left">
                  <ion-buttons start>
                    <button ion-button icon-only style="color:black" (click)="play(chat.voice)">
                      <ion-icon name="play"></ion-icon>
                    </button>
                  </ion-buttons>
                  </div>
                  <ion-buttons end style="margin-top: -43px;">
                    <button ion-button icon-only style="color:black" (click)="pause(chat.voice)">
                      <ion-icon name="pause"></ion-icon>
                    </button>
                  </ion-buttons>
    
                </div>
  
                <div *ngIf="chat.image">
                    <img src="{{chat.image}}" class="thumb-img" imageViewer/>
                    </div>
  
            </div>
          </div>
        </ng-template>
      </ion-item>
    </ion-list>
  </ion-content>
  <ion-footer>
  </ion-footer>